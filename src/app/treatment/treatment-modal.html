
<div class="modal-content">
    <form>
        <div class="modal-header">
            <h4 class="modal-title">{{title}}</h4>
            <a type="button" class="close" data-dismiss="modal" aria-hidden="true"(click)="activeModal.dismiss('Cross click')">&times;</a>
        </div>
        <div class="modal-body">
            <form [formGroup]="treatmentForm">
                <div class="form-group">
                    <label>Date <span style="color:red;">*</span></label>
                    <input type="date" class="form-control" formControlName="treatDate">
                </div>
                <div class="alert alert-danger" role="alert"
                     *ngIf="treatmentForm.get('treatDate').invalid && treatmentForm.get('treatDate').touched">
                    <p *ngIf="treatmentForm.get('treatDate').hasError('required')">Treat Date is Required</p>
                    <p *ngIf="treatmentForm.get('treatDate').hasError('pattern')">Treat Date is not format</p>
                    <p *ngIf="treatmentForm.get('treatDate').hasError('checkDate')">Treat Date must be after the current date</p>
                </div>
                <div class="form-group">
                    <label>Cote Code <span style="color:red;">*</span></label>
                    <select formControlName="cote"  class="form-control"  [(ngModel)]="checkCoteCode" (ngModelChange)="check(checkCoteCode.id)"
                            onfocus='if(this.options.length > 5){ this.size = 5; }' onblur='this.size=1;' onchange='this.size=1; this.blur();'>
                        <option  [ngValue]="checkCoteCode"  disabled >{{checkCoteCode.code}}</option>
                        <option *ngFor="let cote of coteList" [ngValue]="cote"  >{{cote.code}}</option>
                    </select>
                </div>
                <div class="alert alert-danger" role="alert"
                     *ngIf="treatmentForm.get('cote').invalid && treatmentForm.get('cote').touched">
                    <p *ngIf="treatmentForm.get('cote').hasError('required')">Cote is Required</p>
                </div>
                <div class="form-group">
                    <label>Pig Code <span style="color:red;">*</span></label>
                    <select formControlName="pig"  class="form-control" [(ngModel)]="checkPigCode">
                        <option  [ngValue]="checkPigCode"  disabled >{{checkPigCode.code}}</option>
                        <option *ngFor="let pig of pigList" [ngValue]="pig">{{pig.code}}</option>
                    </select>
                </div>
                <div class="alert alert-danger" role="alert"
                     *ngIf="treatmentForm.get('pig').invalid && treatmentForm.get('pig').touched">
                    <p *ngIf="treatmentForm.get('pig').hasError('required')">Pig is Required</p>
                </div>
                <div class="form-group">
                    <label>Veterinarians</label>
                    <input type="text" class="form-control" formControlName="veterinary">
                </div>
                <div class="form-group">
                    <label>Diseases <span style="color:red;">*</span></label>
                    <select formControlName="diseases"  class="form-control" [(ngModel)]="checkDiseases">
                        <option  [ngValue]="checkDiseases"  disabled >{{checkDiseases.name}}</option>
                        <option *ngFor="let diseases of diseasesList" [ngValue]="diseases">{{diseases.name}}</option>
                    </select>
                </div>
                <div class="alert alert-danger" role="alert"
                     *ngIf="treatmentForm.get('diseases').invalid && treatmentForm.get('diseases').touched">
                    <p *ngIf="treatmentForm.get('diseases').hasError('required')">Diseases is Required</p>
                </div>
                <div class="form-group">
                    <label>Medicine  <span style="color:red;">*</span></label>
                    <select formControlName="vacxin"  class="form-control" [(ngModel)]="checkVaccine">
                        <option  [ngValue]="checkVaccine"  disabled >{{checkVaccine.name}}</option>
                        <option *ngFor="let medicine  of medicineList" [ngValue]="medicine">{{medicine.name}}</option>
                    </select>
                </div>
                <div class="alert alert-danger" role="alert"
                     *ngIf="treatmentForm.get('vacxin').invalid && treatmentForm.get('vacxin').touched">
                    <p *ngIf="treatmentForm.get('vacxin').hasError('required')">Medicine is Required</p>
                </div>
                <div class="form-group">
                    <label>Note</label>
                    <textarea type="text" class="form-control" formControlName="description"></textarea>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <input type="button" class="btn btn-default" data-dismiss="modal" (click)="activeModal.close('Close click')"value="Cancel">
            <button [disabled]="treatmentForm.invalid" type="submit" class="btn btn-success" value="Add" (click)="onSubmit()">save<i style="margin-left: 5px" class="fa fa-save"></i></button>
        </div>
    </form>
</div>

